# Классы Epic и Subtask

Классы `Epic` и `Subtask` расширяют базовый класс `Task`, реализуя иерархию задач в системе управления.
Они связаны отношением **«один ко многим»**: эпик (`Epic`) объединяет группу подзадач (`Subtask`),
а каждая подзадача принадлежит ровно одному эпику.

---

# Класс Epic

## Назначение
`Epic` представляет сложную задачу, состоящую из нескольких подзадач (`Subtask`). Статус эпика автоматически вычисляется
на основе статусов его подзадач (логика вычисления должна быть реализована отдельно).

## Наследование
- Наследует все поля и методы класса `Task` (`title`, `description`, `id`, `status`).

## Специфичные поля
| Поле           | Тип                | Описание                          |
|----------------|--------------------|-----------------------------------|
| `subtaskIds`   | `ArrayList<Integer>` | Список ID связанных подзадач.     |

## Конструкторы
### Базовый конструктор 
```java
    public Epic(String title, String description)
```
Создает эпик с указанными названием и описанием. Статус по умолчанию — NEW.

### Конструктор с полными параметрами

```java
public Epic(int id, String title, String description, Status status)
```
Используется для восстановления эпика из хранилища (например, БД).

## Методы

```java
getSubtaskIds();	//Возвращает список ID подзадач.
addSubtaskId(int id);	//Добавляет ID подзадачи в список.
removeSubtask(Integer id);	//Удаляет ID подзадачи из списка.
cleanSubtaskIds();	//Очищает список подзадач.
setSubtaskIds(ArrayList<Integer>);	//Устанавливает новый список ID подзадач (используйте с осторожностью!).
```
Пример использования
```java
Epic epic = new Epic("Разработать приложение", "Полный цикл разработки");
epic.addSubtaskId(101); // Добавление подзадачи с ID=101
```
# Класс Subtask
## Назначение
Subtask представляет подзадачу, которая входит в состав эпика (Epic). Каждая подзадача связана с одним эпиком
через поле epicId.

## Наследование
Наследует все поля и методы класса Task.

## Специфичные поля
epicId - ID эпика, к которому относится подзадача.

## Конструкторы
### Базовый конструктор

```java
public Subtask(String title, String description, Integer epicId);
```
Создает подзадачу с привязкой к эпику через epicId.

### Конструктор с полными параметрами

```java
public Subtask(int id, String title, String description, Status status, int epicId)
```
Используется для восстановления подзадачи из хранилища.

## Связи между классами
### 1. Epic ↔ Subtask
   Epic содержит список ID подзадач (subtaskIds).

Subtask хранит ID своего эпика (epicId).

Отношение поддерживается вручную: при добавлении подзадачи в эпик необходимо:
1. Создать подзадачу с указанием epicId.
2. Добавить ее ID в subtaskIds эпика.

### 2. Наследование от Task
Оба класса наследуют:

Поля: *title, description, id, status*.

Методы: *copy(), equals(), геттеры/сеттеры*.

Переопределяют метод *toString()* для корректного вывода информации.

## Примечания
##### Согласованность данных
При удалении подзадачи необходимо:
1. Удалить ее ID из списка subtaskIds эпика.
2. Обеспечить актуальность epicId в подзадачах.

##### Статус эпика
Реализация автоматического обновления статуса эпика на основе подзадач не входит в текущую версию классов.
Это должно быть реализовано в менеджере задач.

## Рекомендации

Для удаления подзадачи из эпика используйте:

```java
epic.removeSubtask(subtask.getId()); // Удаление по ID
```
***Избегайте прямого изменения subtaskIds и epicId без проверок!***